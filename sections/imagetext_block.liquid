<div class="image-text-block">
  {% for block in section.blocks %}
    <div class="text-block">
      <h2>{{ block.settings.heading }}</h2>
      {% if block.settings.imagepic_id %}
        <img src="{{block.settings.imagepic_id | image_url: width: auto, height: auto }}" alt="{{block.settings.imagepic_id.alt | escape }}"
        loading="lazy" width="150px" height="150px">
      {% endif %}
    </div>
  {% endfor %}
</div>
<style>
    .image-text-block {
        display: flex;
        gap: 20px;
        background-color:grey;
    }
</style>
{% schema %}
{
"name":"Image with Text Block",
"settings":[
],
"blocks": [
    {
        "type": "text_block",
        "name": "Text Block",
        "settings": [
            {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "This is a heading"
    },
    {
        "type": "image_picker",
        "id": "imagepic_id",
        "label": "Image",
    },
        ]
    }
],
"presets": [
    {
        "name": "image-text",
        "category": "Custom Sections"
    }
]
}
{% endschema %}